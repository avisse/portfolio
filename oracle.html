<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Oracle – Délibérations & Votes | Steve Avisse</title>
  <meta name="description" content="Mise en place d’une base Oracle XE sous Docker avec schéma délibérations/votes.">
  <meta name="keywords" content="Oracle XE, SQL, Docker, GitHub, DBeaver, Délibérations, Votes, DevOps">

  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/venobox/venobox.css" rel="stylesheet">
  <link href="assets/vendor/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet">
  <link href="assets/css/style.css" rel="stylesheet">
</head>

<body>
<main id="main">
  <section id="portfolio-details" class="portfolio-details">
    <div class="container" data-aos="fade-up">
      <div class="row">

        <!-- Carrousel images -->
        <div class="col-lg-8">
          <h2 class="portfolio-title" style="text-align:center; color:#007bff;">
            Oracle – Délibérations & Votes
          </h2>

          <div class="owl-carousel portfolio-details-carousel">
            <img src="assets/img/creat delibuser schema.jpg" class="img-fluid" alt="Création schéma Oracle delibuser">
            <img src="assets/img/xe creat.jpg" class="img-fluid" alt="Script SQL création utilisateur Oracle">
            <img src="assets/img/exemple statut date graphique.jpg" class="img-fluid" alt="Exemple données délibérations">
          </div>
        </div>

        <!-- Résumé & tags -->
        <div class="col-lg-4 portfolio-info">
          <h3 style="text-align:center"><strong>Objectif</strong> : Mettre en place une base Oracle XE Dockerisée</h3>
          <p class="lead-intro">
            Mise en place d’un environnement Oracle complet : schéma <strong>delibuser</strong>, tables
            <span class="accent">citoyens</span>, <span class="accent">votes</span>, <span class="accent">délibérations</span>,
            connectable depuis <strong>DBeaver</strong>, avec scripts SQL et gestion GitHub.
          </p>

          <div class="tech-tags">
            <span class="tag">Oracle XE 21c</span>
            <span class="tag">SQL</span>
            <span class="tag">Docker Compose</span>
            <span class="tag">GitHub</span>
            <span class="tag">DBeaver</span>
            <span class="tag">Dump SQL</span>
          </div>

          <ul>
            <li><strong>Catégorie</strong> : Base de données / DevOps</li>
            <li><strong>Contexte</strong> : Projet personnel d’apprentissage Oracle</li>
            <li><strong>Livrables</strong> : <code>docker-compose.yml</code>, <code>init_oracle.sql</code>, <code>deliberations.csv</code></li>
            <a class="btn-repo" href="https://github.com/avisse/Oracle.git" target="_blank"><i class="bx bxl-github"></i> Voir le repository GitHub</a>
          </ul>
        </div>

        <!-- Accordéons -->
        <div class="col-lg-12 portfolio-info" style="margin-top:24px">

          <!-- Contexte -->
          <div class="faq-item">
            <div class="question" onclick="toggleAnswer('cx', this)">Contexte & objectifs <span class="arrow-icon">▼</span></div>
            <div class="answer" id="cx">
              <p>
                Projet de mise en place d’<strong>Oracle XE</strong> sous Docker pour créer un schéma <code>delibuser</code>,
                manipuler des tables relationnelles et versionner les livrables sous GitHub.
              </p>
            </div>
          </div>

          <!-- Architecture -->
          <div class="faq-item">
            <div class="question" onclick="toggleAnswer('archi', this)">Architecture & Scripts SQL <span class="arrow-icon">▼</span></div>
            <div class="answer" id="archi">
              <p>Script d’initialisation (<code>init_oracle.sql</code>) :</p>
<pre><code class="language-sql">CREATE USER delibuser IDENTIFIED BY Delib2025;
GRANT CONNECT, RESOURCE TO delibuser;

CREATE TABLE delibuser.citoyens (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    nom VARCHAR2(100),
    prenom VARCHAR2(100),
    date_naissance DATE,
    ville VARCHAR2(100)
);

CREATE TABLE delibuser.votes (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    id_citoyen NUMBER,
    id_deliberation NUMBER,
    vote VARCHAR2(10),
    FOREIGN KEY (id_citoyen) REFERENCES delibuser.citoyens(id)
);
</code></pre>
            </div>
          </div>

          <!-- Déploiement -->
          <div class="faq-item">
            <div class="question" onclick="toggleAnswer('deploy', this)">Installation & Lancement <span class="arrow-icon">▼</span></div>
            <div class="answer" id="deploy">
<pre><code class="language-bash"># Lancer Oracle XE via Docker
docker-compose up -d

# Connexion dans le conteneur
docker exec -it oracle_xe bash
sqlplus sys/MySecurePassword123@localhost:1521/XEPDB1 as sysdba
</code></pre>
            </div>
          </div>

          <!-- Difficultés -->
          <div class="faq-item">
            <div class="question" onclick="toggleAnswer('issues', this)">Problèmes rencontrés & solutions <span class="arrow-icon">▼</span></div>
            <div class="answer" id="issues">
              <ul>
                <li>ORA-01918 (utilisateur inexistant) → correction du schéma actif</li>
                <li>Problèmes de droits → résolus avec <code>GRANT CONNECT, RESOURCE</code></li>
                <li>Conflits de noms → suppression manuelle des objets doublons</li>
              </ul>
            </div>
          </div>

          <!-- Résultats -->
          <div class="faq-item">
            <div class="question" onclick="toggleAnswer('results', this)">Résultats & Bilan <span class="arrow-icon">▼</span></div>
            <div class="answer" id="results">
              <ul>
                <li>Schéma <code>delibuser</code> opérationnel</li>
                <li>Tables <code>citoyens</code>, <code>votes</code>, <code>deliberations</code> créées et peuplées</li>
                <li>Connexion validée via DBeaver</li>
                <li>Versionnage GitHub structuré</li>
              </ul>
            </div>
          </div>

        </div><!-- /col-12 -->
      </div><!-- /row -->
    </div>
  </section>
</main>

<script>
function toggleAnswer(answerId, question){
  var answer = document.getElementById(answerId);
  answer.classList.toggle("answer-visible");
  question.classList.toggle("answer-visible");
  if (answer.style.maxHeight){
    answer.style.maxHeight = null;
  } else {
    answer.style.maxHeight = answer.scrollHeight + "px";
  }
}
</script>
</body>
</html>
