<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>POC ERP Dolibarr – Collectivité</title>
  <meta name="description" content="Preuve de faisabilité Dolibarr en Docker : déploiement, paramétrage, scénarios Finance & RH pour une collectivité."/>
  <style>
    :root{
      --bg:#ffffff;
      --panel:#f9f9fb;
      --muted:#555;
      --text:#222;
      --accent:#059669;   /* vert */
      --accent-2:#2563eb; /* bleu */
      --border:#ddd;
      --code:#f4f4f4;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;
      color:var(--text);
      background:var(--bg);
      line-height:1.55;
    }
    .container{max-width:1100px;margin:0 auto;padding:28px}
    header.hero{padding:64px 0 28px;text-align:center}
    .badge{
      display:inline-block;font-size:.8rem;padding:.3rem .6rem;
      border:1px solid var(--border);color:var(--muted);
      border-radius:999px;margin-bottom:10px;background:#f1f5f9
    }
    h1{font-size:clamp(1.8rem,3.2vw,2.6rem);margin:.2rem 0 .6rem}
    .subtitle{color:var(--muted);max-width:860px;margin:0 auto 16px}
    .toc{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-top:8px}
    .toc a{
      color:var(--accent-2);text-decoration:none;border:1px solid var(--border);
      padding:8px 12px;border-radius:10px;background:#eef2ff
    }
    section{margin:32px 0}
    .card{
      background:#fff;
      border:1px solid var(--border);border-radius:16px;padding:18px 20px;
      box-shadow:0 4px 12px rgba(0,0,0,.06)
    }
    .muted{color:var(--muted)}
    h2{margin:0 0 12px;font-size:1.5rem}
    h4{margin:16px 0 6px}
    ul{margin:6px 0 10px 18px}
    code,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace}
    pre{
      background:var(--code);border:1px solid var(--border);border-radius:12px;
      padding:14px;overflow:auto;margin:10px 0 16px;position:relative
    }
    .copy{position:absolute;right:10px;top:10px;background:#e2e8f0;
      border:1px solid var(--border);color:var(--text);padding:6px 10px;border-radius:8px;
      cursor:pointer;font-size:.8rem}
    .twocol{display:grid;gap:16px;grid-template-columns:1fr}
    @media(min-width:920px){ .twocol{grid-template-columns:1fr 1fr;} }
    /* Galerie */
    .gallery{display:grid;gap:14px;grid-template-columns:repeat(auto-fill,minmax(260px,1fr))}
    .fig{background:#fafafa;border:1px solid var(--border);border-radius:12px;overflow:hidden}
    .fig img{width:100%;display:block;cursor:zoom-in}
    .fig figcaption{padding:8px 10px;font-size:.9rem;color:var(--muted);border-top:1px solid var(--border)}
    /* Lightbox */
    .lightbox{position:fixed;inset:0;display:none;background:rgba(0,0,0,.88);
      align-items:center;justify-content:center;z-index:9999;padding:24px}
    .lightbox.open{display:flex}
    .lightbox__img{max-width:min(95vw,1400px);max-height:85vh;border-radius:10px;box-shadow:0 10px 40px rgba(0,0,0,.6)}
    .lightbox__caption{color:#e8eefc;text-align:center;margin-top:10px}
    .lightbox__close{position:absolute;top:14px;right:18px;background:transparent;border:0;color:#fff;font-size:32px;cursor:pointer}
    footer{margin:44px 0 10px;text-align:center;color:var(--muted);font-size:.9rem}
  </style>
</head>
<body>
  <div class="container">
    <header class="hero">
      <span class="badge">POC Collectivité • ERP Open Source</span>
      <h1>Dolibarr en Docker – Preuve de faisabilité</h1>
      <p class="subtitle">Déploiement reproductible, paramétrage en français, démonstrations <b>Finance</b> (factures client/fournisseur) et <b>RH</b> (congé agent).</p>
      <nav class="toc">
        <a href="#resume">Résumé</a>
        <a href="#archi">Architecture</a>
        <a href="#setup">Mise en place</a>
        <a href="#param">Paramétrage</a>
        <a href="#donnees">Catalogue & Tiers</a>
        <a href="#scenario1">Scénario Finance</a>
        <a href="#scenario2">Scénario RH</a>
        <a href="#captures">Captures</a>
        <a href="#ops">Exploitation</a>
      </nav>
    </header>

    <!-- … le contenu des sections reste IDENTIQUE à la version précédente … -->
    <!-- Je n’ai changé que la palette CSS -->
    <!-- Tu peux réutiliser exactement les sections Résumé, Archi, Setup, Paramétrage, Données, Scénarios, Captures, Exploitation -->

    <footer>
      <p>POC Dolibarr • Collectivité — Docker • Finance & RH scénarisés.</p>
    </footer>
  </div>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox">
    <button class="lightbox__close" aria-label="Fermer">×</button>
    <div>
      <img class="lightbox__img" id="lightboxImg" src="" alt="">
      <div class="lightbox__caption" id="lightboxCaption"></div>
    </div>
  </div>

  <script>
    // Boutons "Copier"
    document.querySelectorAll('.copy').forEach(btn=>{
      btn.addEventListener('click',()=>{
        const id = btn.getAttribute('data-for');
        const el = document.getElementById(id);
        navigator.clipboard.writeText(el.textContent).then(()=>{
          const old = btn.textContent;
          btn.textContent = 'Copié ✓';
          setTimeout(()=>btn.textContent=old,1200);
        });
      });
    });

    // Lightbox
    (function(){
      const box   = document.getElementById('lightbox');
      const imgEl = document.getElementById('lightboxImg');
      const capEl = document.getElementById('lightboxCaption');
      const close = box.querySelector('.lightbox__close');
      document.querySelectorAll('#captures .gallery img').forEach(img=>{
        img.addEventListener('click', ()=>{
          imgEl.src = img.src;
          capEl.textContent = img.closest('figure')?.querySelector('figcaption')?.textContent?.trim() || img.alt;
          box.classList.add('open');
        });
      });
      const closeBox = ()=> box.classList.remove('open');
      close.addEventListener('click', closeBox);
      box.addEventListener('click', (e)=>{ if(e.target===box) closeBox(); });
      document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeBox(); });
    })();
  </script>
</body>
</html>
